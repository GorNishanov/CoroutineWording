
\rSec0[intro]{General}

\rSec1[intro.scope]{Scope}

\pnum
This Technical Specification describes extensions to the C++ 
Programming Language (\ref{intro.refs}) that
enables definition of resumable functions. These extensions include 
new syntactic forms and modifications to existing language semantics.

\pnum
The International Standard, ISO/IEC 14882, provides important context
and specification for this Technical Specification. This document is 
written as a set of changes against that specification. Instructions
to modify or add paragraphs are written as explicit instructions. 
Modifications made directly to existing text from the International
Standard use \added{underlining} to represent added text and
\removed{strikethrough} to represent deleted text.

\rSec1[intro.refs]{Normative references}

\pnum
The following referenced document is indispensable for the
application of this document. For dated references, only the
edition cited applies. For undated references, the latest edition
of the referenced document (including any amendments) applies.

\begin{itemize}
\item ISO/IEC 14882:2014, \doccite{Programming Languages -- \Cpp}
\end{itemize}

ISO/IEC 14882:2014 is hereafter called the \defn{\Cpp Standard}.
%
The numbering of Clauses, sections, and paragraphs in this document
reflects the numbering in the \Cpp Standard. References to Clauses
and sections not appearing in this Technical Specification refer to
the original, unmodified text in the \Cpp Standard.

%\rSec1[intro.defs]{Terms and definitions}
%
%Add the definitions of ``suspend-resume-point'' and ``resumable function''.
%
%\setcounter{subsection}{26}
%\begin{quote}
%\indexdefn{suspend-resume-point}%
%\definition{suspend-resume-point}{defns.suspend.resume}
%A point in a \grammarterm{function-body}
%where evaluation of a function can be suspended
%with possibility of resuming it later
%via a call to a member function of a
%\tcode{coroutine_handle} object associated with the suspended function.
%\end{quote}
%
%\begin{quote}
%	\indexdefn{resumable function}%
%	\definition{resumable function}{defns.resumable.function}
%	A function defined with \grammarterm{function-body} that
%	contains one or more suspend-resume-points.
%\end{quote}

%%
%% Implementation compliance
%%
\rSec1[intro.compliance]{Implementation compliance}

\pnum
Conformance requirements for this specification are the same as those 
defined in \ref{intro.compliance} in the \Cpp Standard.
\enternote 
Conformance is defined in terms of the behavior of programs.
\exitnote

%%
%% Feature-testing recommendations
%%
\rSec1[intro.features]{Feature-testing recommendations (Informative)}

\pnum
For the sake of improved portability between partial implementations of various
C++ standards, WG21 (the ISO Technical Committee for the \Cpp Programming
Language) recommends that implementers and programmers follow the guidelines in
this section concerning feature-test macros. 
\enternote 
WG21's SD-6 makes similar recommendations for the \Cpp Standard.
\exitnote

\pnum
Implementers who provide a new standard feature should define a macro with the
recommended name, in the same circumstances under which the feature is available
(for example, taking into account relevant command-line options), to indicate
the presence of support for that feature. Implementers should define that macro
with the value specified in the most recent version of this technical
specification that they have implemented. The recommended macro name is
\tcode{__cpp_experimental_} followed by the string in the ``Macro name suffix''
column in Table~\ref{tab:info.features}.

\pnum
No header files should be required to test macros describing the presence
of support for language features.

\begin{floattable}{Feature-test macros for resumable functions}{tab:info.features}
{ll}
\topline
\lhdr{Macro name suffix} & \rhdr{Value} \\
\capsep
\tcode{resumable}  & \tcode{201599}      \\
\end{floattable}

%\rSec1[intro.ack]{Acknowledgments}
%
%\pnum
%The design of this specification is based, in part, on a concept 
%specification of the algorithms part of the C++ standard library, known 
%as ``The Palo Alto'' report (WG21 N3351), which was developed by a large 
%group of experts as a test of the expressive power of the idea of 
%concepts. Despite syntactic differences between the notation of the 
%Palo Alto report and this Technical Specification, the report can be seen as a 
%large-scale test of the expressiveness of this Technical Specification.

\setcounter{section}{8}
\rSec1[intro.execution]{Program execution}
Modify paragraph 7 to read:
\begin{quote}
\setcounter{Paras}{6}
\pnum 
An instance of each object with automatic storage 
duration~(\cxxref{basic.stc.auto}) is associated with each entry into its 
block. Such an object exists and retains its last-stored value during 
the execution of the block and while the block is suspended (by a call 
of a function\added{, suspension of a resumable function (\ref{dcl.fct.def.resumable})} 
or receipt of a signal). 
\end{quote}
